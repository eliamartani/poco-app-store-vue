import{m as L,a as I,c as N,p as f,o as c,b as l,d as n,t as p,F as d,r as $,e as x,u as o,f as k,g as y,h as u,w as T,i as w,v as A,j as m,k as g,l as C,n as S,q as B,s as V}from"./vendor.f3ca7b28.js";const E=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const _ of a.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&r(_)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}};E();var F={"nav-categories":{"clear-filter":"Clear filter",title:"Categories","selected-category":"You have selected:"},"application-list":{"application-item":{currency:"\u20AC","free-label":"Free"},error:"There was an error processing the data.","error-subtitle":"Please try again later.","no-records":"No records were found","search-input":"Search by app"}},M={"nav-categories":{"clear-filter":"Limpar filtro",title:"Categorias","selected-category":"Voc\xEA selecionou:"},"application-list":{"application-item":{currency:"\u20AC","free-label":"Gr\xE1tis"},error:"Houve um erro ao processar a requisi\xE7\xE3o.","error-subtitle":"Por favor, tente novamente mais tarde.","no-records":"Nenhum registro encontrado","search-input":"Buscar por aplicativo"}};const O=L({legacy:!1,locale:"en",fallbackLocale:"en",messages:{en:F,pt:M}}),j=({categories:e=[],name:t=""},s=void 0,r=void 0)=>{const i=!r||e.includes(r),a=!s||t.toLowerCase().includes(s.toLowerCase());return i&&a},D=(e,t)=>P(e)-P(t),q=({name:e},{name:t})=>e.localeCompare(t),P=({subscriptions:e=[]})=>e.reduce((t,s)=>t+(s.price||0),0);var H=e=>{const{apps:t=[],category:s,pageIndex:r,pageSize:i,term:a}=e,_=t.filter(v=>j(v,a,s)).sort(q).sort(D);return{list:_.slice(r*i,(r+1)*i),total:_.length,totalPages:Math.ceil(_.length/i)}},G=e=>{var r,i;const t=(i=(r=e.apps)==null?void 0:r.map(a=>a.categories))!=null?i:[],s=Array.prototype.concat.apply([],t);return[...new Set(s)].sort()};function K(){return I.get("./apps.json")}const U={apps:[],category:null,error:null,loading:!1,pageIndex:0,pageSize:6,term:null},Y={applications:H,categories:G,category:e=>e.category,error:e=>e.error,loading:e=>e.loading,pageIndex:e=>e.pageIndex,pageSize:e=>e.pageSize},J={setApps(e,t){e.apps=t},setCategory(e,t){e.category=t},setError(e,t){e.error=t},setLoading(e,t){e.loading=t},setPageIndex(e,t){e.pageIndex=t},setPageSize(e,t){e.pageSize=t},setTerm(e,t){e.term=t}},Q={async fetchInitialData({commit:e}){try{e("setLoading",!0);const t=await K();e("setApps",t.data)}catch(t){e("setError",t)}finally{setTimeout(()=>{e("setLoading",!1)},1e3)}},setCategory({commit:e,state:t},s){e("setCategory",t.category===s?null:s),e("setPageIndex",0)},setPageIndex({commit:e},t){e("setPageIndex",t)},setPageSize({commit:e},t){e("setPageSize",t)},setTerm({commit:e},t){e("setTerm",t),e("setPageIndex",0)}},R=N({state:U,getters:Y,mutations:J,actions:Q});const W={class:"application-item"},X={class:"application-item__content"},Z={class:"application-item__description"},ee={class:"application-item__title"},te={class:"application-item__description"},se={class:"application-item__tags"},ae={class:"application-item__subscriptions"},ie={class:"application-item__subscription-name"},ne={class:"application-item__subscription-price"},oe={class:"application-item__subscription-currency"},re={props:{application:Object},setup(e){const{tm:t}=f();return(s,r)=>(c(),l("article",W,[n("div",X,[n("div",Z,[n("h1",ee,p(e.application.name),1),n("p",te,p(e.application.description),1)]),n("div",se,[(c(!0),l(d,null,$(e.application.categories,(i,a)=>(c(),l("span",{class:"application-item__tag",key:`${a}_tags`},p(i),1))),128))])]),n("div",ae,[n("ul",null,[(c(!0),l(d,null,$(e.application.subscriptions,(i,a)=>(c(),l("li",{class:"application-item__subscription",key:`${a}_subscription`},[n("span",ie,p(i.name),1),n("h3",ne,[i.price?(c(),l(d,{key:0},[x(p(i.price.toFixed(2))+" ",1),n("sup",oe,p(o(t)("application-list.application-item.currency")),1)],64)):(c(),l(d,{key:1},[x(p(o(t)("application-list.application-item.free-label")),1)],64))])]))),128))])])]))}};const ce={class:"search"},le=["disabled","placeholder","aria-label"],_e={setup(e){const t=k(null),s=y(),{tm:r}=f(),i=u(()=>s.getters.error);return T(t,a=>s.dispatch("setTerm",a)),(a,_)=>(c(),l("div",ce,[w(n("input",{type:"search",class:"search__input",disabled:o(i),placeholder:o(r)("application-list.search-input"),"onUpdate:modelValue":_[0]||(_[0]=h=>t.value=h),"aria-label":o(r)("application-list.search-input")},null,8,le),[[A,t.value]])]))}};const pe={class:"application-list__items"},de={key:0},ue={class:"application-list__title"},ge={class:"application-list__subtitle"},he={key:1},me={class:"application-list__title"},ye={setup(e){const t=y(),{tm:s}=f(),r=u(()=>t.getters.applications),i=u(()=>t.getters.error);return(a,_)=>(c(),l(d,null,[m(_e),n("ul",pe,[(c(!0),l(d,null,$(o(r).list,h=>(c(),l("li",{class:"application-list__item",key:h.id},[m(re,{application:h},null,8,["application"])]))),128)),o(i)?(c(),l("li",de,[n("p",ue,p(o(s)("application-list.error")),1),n("p",ge,p(o(s)("application-list.error-subtitle")),1)])):g("",!0),!o(r).list.length&&!o(i)?(c(),l("li",he,[n("p",me,p(o(s)("application-list.no-records")),1)])):g("",!0)])],64))}};const ve={class:"pagination"},fe={class:"pagination__item"},$e=["disabled"],be={class:"pagination__item"},xe=["disabled"],ke={key:0,class:"pagination__item"},Ce={key:1,class:"pagination__item"},Se={class:"pagination__item",type:"button"},Pe={class:"pagination__index pagination__index--active"},ze={key:2,class:"pagination__item"},Le={key:3,class:"pagination__item"},Ie={class:"pagination__item"},Ne=["disabled"],Te={class:"pagination__item"},we=["disabled"],Ae={props:{pagingSize:Number},setup(e){const t=y(),s=u(()=>t.getters.pageIndex),r=i=>t.dispatch("setPageIndex",i);return(i,a)=>(c(),l("ul",ve,[n("li",fe,[n("button",{type:"button",class:"pagination__index",disabled:o(s)===0,onClick:a[0]||(a[0]=_=>r(0))}," << ",8,$e)]),n("li",be,[n("button",{type:"button",class:"pagination__index",disabled:o(s)===0,onClick:a[1]||(a[1]=_=>r(o(s)-1))}," < ",8,xe)]),o(s)===e.pagingSize-1&&e.pagingSize>2?(c(),l("li",ke,[n("button",{type:"button",class:"pagination__index",onClick:a[2]||(a[2]=_=>r(o(s)-2))},p(o(s)-1),1)])):g("",!0),o(s)-1>=0?(c(),l("li",Ce,[n("button",{type:"button",class:"pagination__index",onClick:a[3]||(a[3]=_=>r(o(s)-1))},p(o(s)),1)])):g("",!0),n("li",Se,[n("button",Pe,p(o(s)+1),1)]),o(s)+1<e.pagingSize?(c(),l("li",ze,[n("button",{type:"button",class:"pagination__index",onClick:a[4]||(a[4]=_=>r(o(s)+1))},p(o(s)+2),1)])):g("",!0),o(s)===0&&e.pagingSize>2?(c(),l("li",Le,[n("button",{type:"button",class:"pagination__index",onClick:a[5]||(a[5]=_=>r(o(s)+2))},p(o(s)+3),1)])):g("",!0),n("li",Ie,[n("button",{type:"button",class:"pagination__index",disabled:o(s)===e.pagingSize-1,onClick:a[6]||(a[6]=_=>r(o(s)+1))}," > ",8,Ne)]),n("li",Te,[n("button",{type:"button",class:"pagination__index",disabled:o(s)===e.pagingSize-1,onClick:a[7]||(a[7]=_=>r(e.pagingSize-1))}," >> ",8,we)])]))}},Be={setup(e){const t=y(),s=u(()=>t.getters.applications);return(r,i)=>(c(),l("footer",null,[o(s).totalPages?(c(),C(Ae,{key:0,"paging-size":o(s).totalPages},null,8,["paging-size"])):g("",!0)]))}};const Ve={class:"language"},Ee=["onClick"],Fe={setup(e){const{locale:t}=f(),s=k([{locale:"en",text:"EN"},{locale:"pt",text:"PT"}]),r=i=>t.value=i;return(i,a)=>(c(),l("div",Ve,[(c(!0),l(d,null,$(s.value,_=>(c(),l("button",{key:_.locale,class:S(["language__item",{"language__item--active":o(t)===_.locale}]),onClick:h=>r(_.locale)},p(_.text),11,Ee))),128))]))}};const Me={class:"header"},Oe=n("h1",{class:"header__title"},"App Store",-1),je=n("h2",{class:"header__subtitle"},"Made \u2665 Vue",-1),De={setup(e){return(t,s)=>(c(),l("header",Me,[Oe,je,m(Fe)]))}};var qe=(e,t)=>{for(const[s,r]of t)e[s]=r;return e};const He={},Ge={class:"loading"},Ke=n("div",null,null,-1),Ue=n("div",null,null,-1),Ye=n("div",null,null,-1),Je=n("div",null,null,-1),Qe=[Ke,Ue,Ye,Je];function Re(e,t){return c(),l("div",Ge,Qe)}var We=qe(He,[["render",Re]]);const Xe={class:"nav-categories"},Ze={class:"nav-categories__title"},et={class:"nav-categories__list"},tt=["onClick"],st={setup(e){const t=y(),{tm:s}=f(),r=u(()=>t.getters.category),i=u(()=>t.getters.categories),a=_=>t.dispatch("setCategory",_);return(_,h)=>(c(),l("nav",Xe,[n("h1",Ze,p(o(s)("nav-categories.title")),1),n("ul",et,[(c(!0),l(d,null,$(o(i),(v,z)=>(c(),l("li",{class:"nav-categories__item",key:`${z}_nav`},[n("button",{class:S(["nav-categories__category",{"nav-categories__category--active":o(r)===v}]),onClick:ot=>a(v)},p(v),11,tt)]))),128))])]))}},at={key:0,class:"app__sidebar"},it={class:"app__main"},nt={setup(e){const t=y(),s=u(()=>t.getters.error),r=u(()=>t.getters.loading),i=a=>t.dispatch("setPageSize",a);return B(()=>{t.dispatch("fetchInitialData"),i(3)}),(a,_)=>o(r)?(c(),C(We,{key:0})):(c(),l(d,{key:1},[m(De,{class:"app__header"}),o(s)?g("",!0):(c(),l("aside",at,[m(st)])),n("main",it,[m(ye)]),m(Be,{class:"app__footer"})],64))}};const b=V(nt);b.use(R);b.use(O);b.mount("#app");
